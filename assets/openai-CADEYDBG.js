import{$ as v,u as w,bJ as C,h as m,o as p,g as R,w as a,d as t,a2 as o,a6 as r,e as g,a3 as k,a4 as B,b as x,f as q,F as N,aa as S}from"./index-BdU6NL9c.js";import{S as $}from"./Star-rQHRcTBb.js";import{a as c,V as b}from"./VRow-G7JSZdsK.js";import{V as A}from"./VContainer-D-DoFt4q.js";const F={class:"text-center"},I={class:"text-center",style:{color:"#cccc99"}},J={class:"list"},T=["src"],D={class:"text-center"},E={class:"reading"},K={__name:"openai",setup(L){const{t:i}=w(),{apiAuth:_}=S(),f=C(),n=JSON.parse(f.query.selected),d=f.query.question;m([]);const l=m("");console.log("2222"+n);const y=async()=>{try{const{data:e}=await _.post("/ai/openai",{question:d,selectedCards:n});l.value=e.result}catch(e){console.log("1111"+e),l.value=i("api.aiResponse")}},V=async()=>{var e,u;try{const h=(await _.post("/ai/save",{question:d,selectedCards:n,aiResponse:l.value})).data;alert(i("api.succ")),console.log("✅ 儲存成功:",h)}catch(s){console.error("❌ 儲存失敗:",s.response?s.response.data:s),(u=(e=s.response)==null?void 0:e.data)!=null&&u.error||s.message,alert(i("api.api"))}};return y(),(e,u)=>(p(),R(A,null,{default:a(()=>[t(b,null,{default:a(()=>[t($),t(c,{cols:"12"},{default:a(()=>[o("h1",F,r(e.$t("tarot.aipage")),1)]),_:1}),t(c,{cols:"12"},{default:a(()=>[o("h1",I,r(g(d)),1)]),_:1}),t(c,{cols:"12",class:"text-center"},{default:a(()=>[t(k,{color:"orange-lighten-1",onClick:V,width:"100px"},{default:a(()=>[B(r(e.$t("tarot.Keep")),1)]),_:1})]),_:1}),t(c,{cols:"6"},{default:a(()=>[o("ul",J,[(p(!0),x(N,null,q(g(n),(s,h)=>(p(),x("li",{key:s.id},[o("img",{src:s.image,alt:""},null,8,T),o("p",D,r(s.name),1)]))),128))])]),_:1}),t(c,{cols:"6"},{default:a(()=>[o("h2",null,r(e.$t("tarot.gotoaipage")),1),o("div",E,r(l.value),1)]),_:1})]),_:1})]),_:1}))}},H=v(K,[["__scopeId","data-v-d78b4c95"]]);export{H as default};
