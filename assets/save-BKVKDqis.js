import{$ as g,h as C,k as h,o as l,g as _,w as t,d as e,b as d,f,F as m,aD as k,aE as y,a2 as o,a6 as s,a3 as $,a4 as R,bX as b,aF as w,aa as B}from"./index-C4ymFjX3.js";import{V as x,a as F}from"./VRow-BP8VJNTs.js";import{V as N}from"./VContainer-CwMp-0Fo.js";const S={class:"tarot-images"},T=["src"],A={__name:"save",setup(D){const n=C([]),{apiAuth:u}=B(),p=async()=>{try{const{data:a}=await u.get("/ai/save");n.value=a.result}catch(a){console.error("❌ 獲取保存資料失敗:",a),alert("無法獲取保存資料，請稍後再試")}},v=async a=>{if(confirm("確定要刪除這筆紀錄嗎？"))try{await u.delete(`/ai/save/${a}`),n.value=n.value.filter(c=>c._id!==a)}catch(c){console.error("❌ 刪除失敗:",c),alert("刪除失敗，請稍後再試")}};return h(()=>{p()}),(a,c)=>(l(),_(N,null,{default:t(()=>[e(x,null,{default:t(()=>[(l(!0),d(m,null,f(n.value,r=>(l(),_(F,{key:r._id,cols:"12",md:"6",lg:"4"},{default:t(()=>[e(k,{class:"tarot-card"},{default:t(()=>[e(y,{class:"tarot-title"},{default:t(()=>[o("span",null,"🔮 "+s(a.$t("tarot.save"))+" "+s(r.question),1),e($,{onClick:i=>v(r._id)},{default:t(()=>[R(s(a.$t("tarot.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024),e(b,{class:"tarot-subtitle"},{default:t(()=>[o("strong",null,s(a.$t("tarot.selectedCards"))+":",1),o("div",S,[(l(!0),d(m,null,f(r.selectedCards,(i,V)=>(l(),d("img",{key:V,src:i.image,alt:"",class:"tarot-img"},null,8,T))),128))])]),_:2},1024),e(w,{class:"tarot-text"},{default:t(()=>[o("strong",null,"📝 "+s(a.$t("tarot.aiResponse"))+":",1),o("p",null,s(r.aiResponse),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}},L=g(A,[["__scopeId","data-v-9616db18"]]);export{L as default};
