import{$ as k,o as d,b as m,d as e,w as t,aD as B,aE as T,a4 as p,aF as R,a2 as n,a3 as h,aG as N,g as x,a7 as b,aH as q,u as A,bJ as S,h as V,a6 as c,e as w,f as $,F,aa as L}from"./index-C8Dv1fAk.js";import{S as E}from"./Star-DuJIaJTq.js";import{a as u,V as I}from"./VRow-BiWWLf5J.js";import{V as J}from"./VContainer-DIeL3KTK.js";const j={data(){return{showDialog:!0,showCloseButton:!1}},methods:{openDialog(){setTimeout(()=>{this.showCloseButton=!0},5e3)},closeDialog(){this.showDialog=!1},goToLink(){window.open("https://peggicl8612.github.io/vuetify-project/#/home","_blank","noopener,noreferrer")}},created(){this.openDialog()}};function G(y,o,_,f,l,r){return d(),m("div",null,[e(q,{modelValue:l.showDialog,"onUpdate:modelValue":o[0]||(o[0]=i=>l.showDialog=i),persistent:"","max-width":"600px"},{default:t(()=>[e(B,null,{default:t(()=>[e(T,{class:"headline"},{default:t(()=>o[1]||(o[1]=[p("優惠廣告")])),_:1}),e(R,null,{default:t(()=>[o[3]||(o[3]=n("p",null,"點擊以下連結了解更多優惠！",-1)),e(h,{color:"pink",onClick:r.goToLink},{default:t(()=>o[2]||(o[2]=[p("前往優惠頁面")])),_:1},8,["onClick"])]),_:1}),e(N,null,{default:t(()=>[l.showCloseButton?(d(),x(h,{key:0,text:"",onClick:r.closeDialog},{default:t(()=>o[4]||(o[4]=[p("關閉")])),_:1},8,["onClick"])):b("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const H=k(j,[["render",G]]),K={class:"text-center"},O={class:"text-center",style:{color:"#cccc99"}},U={class:"list"},z=["src"],M={class:"text-center"},P={class:"reading"},Q={__name:"openai",setup(y){const{t:o}=A(),{apiAuth:_}=L(),f=S(),l=JSON.parse(f.query.selected),r=f.query.question;V([]);const i=V("");console.log("2222"+l);const D=async()=>{try{const{data:s}=await _.post("/ai/openai",{question:r,selectedCards:l});i.value=s.result}catch(s){console.log("1111"+s),i.value=o("api.aiResponse")}},v=async()=>{var s,g;try{const C=(await _.post("/ai/save",{question:r,selectedCards:l,aiResponse:i.value})).data;alert(o("api.succ")),console.log("✅ 儲存成功:",C)}catch(a){console.error("❌ 儲存失敗:",a.response?a.response.data:a),(g=(s=a.response)==null?void 0:s.data)!=null&&g.error||a.message,alert(o("api.api"))}};return D(),(s,g)=>(d(),x(J,null,{default:t(()=>[e(I,null,{default:t(()=>[e(E),e(H),e(u,{cols:"12"},{default:t(()=>[n("h1",K,c(s.$t("tarot.aipage")),1)]),_:1}),e(u,{cols:"12"},{default:t(()=>[n("h1",O,c(w(r)),1)]),_:1}),e(u,{cols:"12",class:"text-center"},{default:t(()=>[e(h,{color:"orange-lighten-1",onClick:v,width:"100px"},{default:t(()=>[p(c(s.$t("tarot.Keep")),1)]),_:1})]),_:1}),e(u,{cols:"6"},{default:t(()=>[n("ul",U,[(d(!0),m(F,null,$(w(l),(a,C)=>(d(),m("li",{key:a.id},[n("img",{src:a.image,alt:""},null,8,z),n("p",M,c(a.name),1)]))),128))])]),_:1}),e(u,{cols:"6"},{default:t(()=>[n("h2",null,c(s.$t("tarot.gotoaipage")),1),n("div",P,c(i.value),1)]),_:1})]),_:1})]),_:1}))}},ee=k(Q,[["__scopeId","data-v-3922799e"]]);export{ee as default};
